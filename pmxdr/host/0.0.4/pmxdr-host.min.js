/*
@source http://code.eligrey.com/pmxdr/host/0.0.4/pmxdr-host.js
*/
if(!this.JSON){JSON={}}eval(function(h,b,i,d,g,f){g=function(a){return(a<62?"":g(parseInt(a/62)))+((a=a%62)<36?a.toString(36):String.fromCharCode(a+29))};if("0".replace(0,g)==0){while(i--){f[g(i)]=d[i]}d=[function(a){return f[a]||a}];g=function(){return"\\w{1,2}"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}('(3(){3 f(n){6 n<10?"0"+n:n}2(5 1b.w.7!=="3"){1b.w.7=3(a){6 8.getUTCFullYear()+"-"+f(8.getUTCMonth()+1)+"-"+f(8.getUTCDate())+"T"+f(8.getUTCHours())+":"+f(8.getUTCMinutes())+":"+f(8.getUTCSeconds())+"Z"};O.w.7=Number.w.7=Boolean.w.7=3(a){6 8.valueOf()}}y g=/[\\u0000\\R\\Q-\\1i\\1f\\1e\\1c\\1a-\\19\\18-\\17\\15-\\14\\13\\12-\\11]/g,h=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\R\\Q-\\1i\\1f\\1e\\1c\\1a-\\19\\18-\\17\\15-\\14\\13\\12-\\11]/g,l,m,o={"\\b":"\\\\b","\\t":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},p;3 q(b){h.S=0;6 h.I(b)?\'"\'+b.z(h,3(a){y c=o[a];6 5 c==="G"?c:"\\\\u"+("1h"+a.1g(0).P(16)).1d(-4)})+\'"\':\'"\'+b+\'"\'}3 r(a,b){y i,k,v,c,d=l,e,f=b[a];2(f&&5 f==="x"&&5 f.7==="3"){f=f.7(a)}2(5 p==="3"){f=p.H(b,a,f)}switch(5 f){D"G":6 q(f);D"N":6 isFinite(f)?O(f):"C";D"boolean":D"C":6 O(f);D"x":2(!f){6"C"}l+=m;e=[];2(M.w.P.apply(f)==="[x Array]"){c=f.B;A(i=0;i<c;i+=1){e[i]=r(i,f)||"C"}v=e.B===0?"[]":l?"[\\n"+l+e.E(",\\n"+l)+"\\n"+d+"]":"["+e.E(",")+"]";l=d;6 v}2(p&&5 p==="x"){c=p.B;A(i=0;i<c;i+=1){k=p[i];2(5 k==="G"){v=r(k,f);2(v){e.Y(q(k)+(l?": ":":")+v)}}}}J{A(k X f){2(M.W.H(f,k)){v=r(k,f);2(v){e.Y(q(k)+(l?": ":":")+v)}}}}v=e.B===0?"{}":l?"{\\n"+l+e.E(",\\n"+l)+"\\n"+d+"}":"{"+e.E(",")+"}";l=d;6 v}}2(5 9.K!=="3"){9.K=3(a,b,c){y i;l="";m="";2(5 c==="N"){A(i=0;i<c;i+=1){m+=" "}}J{2(5 c==="G"){m=c}}p=b;2(b&&5 b!=="3"&&(5 b!=="x"||5 b.B!=="N")){V U Error("9.K")}6 r("",{"":a})}}2(5 9.L!=="3"){9.L=3(d,e){y j;3 f(a,b){y k,v,c=a[b];2(c&&5 c==="x"){A(k X c){2(M.W.H(c,k)){v=f(c,k);2(v!==undefined){c[k]=v}J{delete c[k]}}}}6 e.H(a,b,c)}g.S=0;2(g.I(d)){d=d.z(g,3(a){6"\\\\u"+("1h"+a.1g(0).P(16)).1d(-4)})}2(/^[\\],:{}\\s]*$/.I(d.z(/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").z(/"[^"\\\\\\n\\r]*"|true|false|C|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,"]").z(/(?:^|:|,)(?:\\s*\\[)+/g,""))){j=eval("("+d+")");6 5 e==="3"?f({"":j},""):j}V U SyntaxError("9.L")}}})();',[],81,"||if|function||typeof|return|toJSON|this|JSON|||||||||||||||||||||||prototype|object|var|replace|for|length|null|case|join||string|call|test|else|stringify|parse|Object|number|String|toString|u0600|u00ad|lastIndex||new|throw|hasOwnProperty|in|push|||uffff|ufff0|ufeff|u206f|u2060||u202f|u2028|u200f|u200c|Date|u17b5|slice|u17b4|u070f|charCodeAt|0000|u0604".split("|"),0,{}));(function(){var a=[];if(typeof window.opera!="undefined"){if(parseInt(window.opera.version())==9){Event.prototype.__defineGetter__("origin",function(){return"http://"+this.domain})}}function b(c){var e=false,h=JSON.parse(c.data);if(h.pmxdr==true){for(var d=0;d<a.length;d++){if(a[d] instanceof RegExp){e=a[d].test(c.origin)}else{if(typeof a[d]=="string"){e=(origin===a[d])}}}if(typeof h.method=="string"){h.method=h.method.toUpperCase()}var g=new XMLHttpRequest();g.open(h.method,h.uri,true);if(h.headers){for(var j in h.headers){if(h.headers.hasOwnProperty(j)){g.setRequestHeader(j,h.headers[j])}}}if(typeof h.data=="string"){g.send(h.data)}else{g.send(null)}function f(k){var i={pmxdr:true,error:k,status:g.status,statusText:g.statusText,id:h.id};c.source.postMessage(JSON.stringify(i),c.origin)}g.onreadystatechange=function(){if(this.readyState==4){if(this.status==200){function o(i){return g.getResponseHeader(i)}var n={origin:(o("Access-Control-Allow-Origin")||"").replace(/\s/g,""),methods:(o("Access-Control-Allow-Methods")||"").replace(/\s/g,"")};if(e==true||n.origin=="*"||n.origin.indexOf(c.origin)!=-1){if(!n.methods||n.methods=="*"||(typeof n.methods=="string"&&n.methods.indexOf(h.method)!=-1)){var k={pmxdr:true,data:this.responseText,headers:{},status:this.status,statusText:this.statusText};if(typeof h.id!="undefined"){k.id=h.id}var m=this.getAllResponseHeaders().split(/\r?\n/);for(var l=0;l<m.length;l++){var p=m[l].split(": ");k.headers[p[0].toLowerCase()]=p[1]}return c.source.postMessage(JSON.stringify(k),c.origin)}else{return f("DISALLOWED_REQUEST_METHOD")}}else{return f("DISALLOWED_ORIGIN")}}else{return f("LOAD_ERROR")}}}}}if(window.addEventListener){window.addEventListener("message",b,false)}else{if(window.attachEvent){window.attachEvent("onmessage",b)}}})();
