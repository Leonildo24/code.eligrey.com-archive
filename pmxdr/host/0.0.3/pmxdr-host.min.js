/*
@source http://code.eligrey.com/pmxdr/host/0.0.3/pmxdr-host.js
*/
if(!this.JSON){JSON={};eval(function(h,b,i,d,g,f){g=function(a){return(a<62?"":g(parseInt(a/62)))+((a=a%62)<36?a.toString(36):String.fromCharCode(a+29))};if("0".replace(0,g)==0){while(i--){f[g(i)]=d[i]}d=[function(a){return f[a]||a}];g=function(){return"\\w{1,2}"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}('(3(){3 f(n){6 n<10?"0"+n:n}2(5 1b.w.7!=="3"){1b.w.7=3(a){6 8.getUTCFullYear()+"-"+f(8.getUTCMonth()+1)+"-"+f(8.getUTCDate())+"T"+f(8.getUTCHours())+":"+f(8.getUTCMinutes())+":"+f(8.getUTCSeconds())+"Z"};O.w.7=Number.w.7=Boolean.w.7=3(a){6 8.valueOf()}}y g=/[\\u0000\\R\\Q-\\1i\\1f\\1e\\1c\\1a-\\19\\18-\\17\\15-\\14\\13\\12-\\11]/g,h=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\R\\Q-\\1i\\1f\\1e\\1c\\1a-\\19\\18-\\17\\15-\\14\\13\\12-\\11]/g,l,m,o={"\\b":"\\\\b","\\t":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},p;3 q(b){h.S=0;6 h.I(b)?\'"\'+b.z(h,3(a){y c=o[a];6 5 c==="G"?c:"\\\\u"+("1h"+a.1g(0).P(16)).1d(-4)})+\'"\':\'"\'+b+\'"\'}3 r(a,b){y i,k,v,c,d=l,e,f=b[a];2(f&&5 f==="x"&&5 f.7==="3"){f=f.7(a)}2(5 p==="3"){f=p.H(b,a,f)}switch(5 f){D"G":6 q(f);D"N":6 isFinite(f)?O(f):"C";D"boolean":D"C":6 O(f);D"x":2(!f){6"C"}l+=m;e=[];2(M.w.P.apply(f)==="[x Array]"){c=f.B;A(i=0;i<c;i+=1){e[i]=r(i,f)||"C"}v=e.B===0?"[]":l?"[\\n"+l+e.E(",\\n"+l)+"\\n"+d+"]":"["+e.E(",")+"]";l=d;6 v}2(p&&5 p==="x"){c=p.B;A(i=0;i<c;i+=1){k=p[i];2(5 k==="G"){v=r(k,f);2(v){e.Y(q(k)+(l?": ":":")+v)}}}}J{A(k X f){2(M.W.H(f,k)){v=r(k,f);2(v){e.Y(q(k)+(l?": ":":")+v)}}}}v=e.B===0?"{}":l?"{\\n"+l+e.E(",\\n"+l)+"\\n"+d+"}":"{"+e.E(",")+"}";l=d;6 v}}2(5 9.K!=="3"){9.K=3(a,b,c){y i;l="";m="";2(5 c==="N"){A(i=0;i<c;i+=1){m+=" "}}J{2(5 c==="G"){m=c}}p=b;2(b&&5 b!=="3"&&(5 b!=="x"||5 b.B!=="N")){V U Error("9.K")}6 r("",{"":a})}}2(5 9.L!=="3"){9.L=3(d,e){y j;3 f(a,b){y k,v,c=a[b];2(c&&5 c==="x"){A(k X c){2(M.W.H(c,k)){v=f(c,k);2(v!==undefined){c[k]=v}J{delete c[k]}}}}6 e.H(a,b,c)}g.S=0;2(g.I(d)){d=d.z(g,3(a){6"\\\\u"+("1h"+a.1g(0).P(16)).1d(-4)})}2(/^[\\],:{}\\s]*$/.I(d.z(/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").z(/"[^"\\\\\\n\\r]*"|true|false|C|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,"]").z(/(?:^|:|,)(?:\\s*\\[)+/g,""))){j=eval("("+d+")");6 5 e==="3"?f({"":j},""):j}V U SyntaxError("9.L")}}})();',[],81,"||if|function||typeof|return|toJSON|this|JSON|||||||||||||||||||||||prototype|object|var|replace|for|length|null|case|join||string|call|test|else|stringify|parse|Object|number|String|toString|u0600|u00ad|lastIndex||new|throw|hasOwnProperty|in|push|||uffff|ufff0|ufeff|u206f|u2060||u202f|u2028|u200f|u200c|Date|u17b5|slice|u17b4|u070f|charCodeAt|0000|u0604".split("|"),0,{}))}(function(){var b=[];if(typeof window.opera!="undefined"){if(parseInt(window.opera.version())==9){Event.prototype.__defineGetter__("origin",function(){return"http://"+this.domain})}}function a(m){var c=false,l=m.origin,f=JSON.parse(m.data),d=[],k=false;if(f.pmxdr==true){function e(n){var i={pmxdr:true,error:n};if(f.id){i.id=f.id}m.source.postMessage(JSON.stringify(i),l)}for(var g=0;g<b.length;g++){if(b[g] instanceof RegExp){c=b[g].test(m.origin)}else{if(typeof b[g]=="string"){c=(l===b[g])}}}if(typeof f.method=="string"){f.method=f.method.toUpperCase()}var j=new XMLHttpRequest();j.open(f.method,f.uri,true);if(f.headers){for(var h in f.headers){if(f.headers.hasOwnProperty(h)){j.setRequestHeader(h,f.headers[h]);d.push(h.toLowerCase())}}}if(typeof f.data=="string"){j.send(f.data)}else{j.send(null)}j.onreadystatechange=function(){if(this.readyState==4){if(j.status==200){function r(i){return j.getResponseHeader(i)}var q={origin:(r("Access-Control-Allow-Origin")||"").replace(/\s/g,""),methods:(r("Access-Control-Allow-Methods")||"").replace(/\s/g,"")};if(c==true||q.origin=="*"||q.origin.indexOf(l)!=-1){if(!q.methods||q.methods=="*"||(typeof q.methods=="string"&&q.methods.indexOf(f.method)!=-1)){var n={pmxdr:true,data:j.responseText,headers:{}};if(typeof f.id!="undefined"){n.id=f.id}var p=j.getAllResponseHeaders().split(/\r?\n/);for(var o=0;o<p.length;o++){var s=p[o].split(": ");n.headers[s[0].toLowerCase()]=s[1]}return m.source.postMessage(JSON.stringify(n),l)}else{return e("DISALLOWED_REQUEST_METHOD")}}else{return e("DISALLOWED_ORIGIN")}}else{return e("LOAD_ERROR")}}}}}if(window.addEventListener){window.addEventListener("message",a,false)}else{if(window.attachEvent){window.attachEvent("onmessage",a)}}})();
