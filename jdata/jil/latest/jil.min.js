if(typeof JSON=="undefined"){document.getElementsByTagName("head")[0].appendChild(document.createElement("script")).src="json2.js"}function JIL(){var a=Array.prototype.slice.call(arguments);if(typeof JIL[a[0]]=="function"){return JIL[a[0]].apply(this,a.slice(1))}else{if(typeof JIL[a[0]]!="undefined"){return JIL[a[0]]}}return JIL}JIL.props=({origin:"http://jdata.eligrey.com",path:"",frame:document.createElement("iframe"),ready:false,frameActive:false,listening:false,requestCallbacks:{reset:function(a){if(typeof a!="undefined"){delete JIL.requestCallbacks[a]}else{JIL.requestCallbacks={reset:JIL.requestCallbacks.reset}}return JIL}},handleResponse:function(a){if(a.origin==JIL.origin){var b=JSON.parse(a.data);if(b.jdata==true&&typeof b.id!="undefined"&&typeof b.response!="undefined"){if(typeof JIL.requestCallbacks[b.id]=="function"){JIL.requestCallbacks[b.id](b.response);delete JIL.requestCallbacks[b.id]}}}return JIL},query:function(b,d){if(JIL.ready==true){var c=(function a(){var e=Math.random().toString().substr(2);if(typeof JIL.requestCallbacks[e]=="undefined"){return e}else{return a()}})();if(typeof d=="function"){JIL.requestCallbacks[c]=d}if(typeof b=="string"){b={method:b}}b.id=c;JIL.frame.contentWindow.postMessage(JSON.stringify(b),JIL.origin)}return JIL},get:function(a,b){if(a&&a!=""){return JIL.query({method:"get",item:a},b||false)}},set:function(a,b,c){if(a&&a!=""){return JIL.query({method:"set",item:a,value:b||""},c||false)}},remove:function(a,b){if(a&&a!=""){return JIL.query({method:"remove",item:a},b||false)}},trust:function(a){return JIL.query("trust",a||false)},untrust:function(a){return JIL.query("untrust",a||false)},total:function(a){return JIL.query("length",a||false)},list:function(a){return JIL.query("list",a||false)},addEvent:function(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{if(c.attachEvent){c.attachEvent("on"+b,a)}}return JIL},removeEvent:function(c,b,a){if(c.removeEventListener){c.removeEventListener(b,a,false)}else{if(c.detachEvent){c.detachEvent("on"+b,a)}}return JIL},loadFrame:function(b){if(JIL.listening){JIL.removeEvent(window,"message",JIL.handleResponse)}JIL.ready=false;JIL.listening=false;if(!JIL.frameActive){JIL.frame.setAttribute("style","display:none");document.getElementsByTagName("head")[0].appendChild(JIL.frame);JIL.frameActive=true}function a(){JIL.removeEvent(JIL.frame,"load",a).addEvent(window,"message",JIL.handleResponse);JIL.listening=true;JIL.ready=true;if(typeof b=="function"){b(JIL)}}JIL.frame.setAttribute("src",JIL.origin+JIL.path+"/api/postMessage");return JIL.addEvent(JIL.frame,"load",a)},changeHost:function(a,b,c){if(typeof a=="string"){JIL.origin=a}if(typeof b=="string"){JIL.path=b}else{JIL.path=""}return JIL.loadFrame(c||false)}});for(prop in JIL.props){if(JIL.props.hasOwnProperty(prop)){JIL[prop]=JIL.props[prop]}}delete JIL.props;JIL.loadFrame();
